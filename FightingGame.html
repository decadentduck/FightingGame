<!DOCTYPE html>
<html>
<head>
    <title>Fighting Game</title>
	<meta charset="utf-8">
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script type="text/javascript">
        $(document).ready(function ()
        {
            var canvas = $("#myCanvas");
            var context = canvas.get(0).getContext("2d");
            
            //Character objects
            var Lucina =
                {
                    image: "Images/lucina.png",
                    //image height
                    width: 50,
                    height: 60,
                };
            var Bowser =
                {
                    image: "Images/bowser.png",
                    width: 50,
                    height: 100,
                };
            var Sheik =
                {
                    image: "Images/sheik.png",
                    width: 50,
                    height: 100,
                };
            var Samus =
                {
                    image: "Images/samus.png",
                    width: 50,
                    height: 100,
                };

            //character images
            var lucinaImage = new Image();
            lucinaImage.src = Lucina.image;
            var bowserImage = new Image();
            bowserImage.src = Bowser.image;
            var sheikImage = new Image();
            sheikImage.src = Sheik.image;
            var samusImage = new Image();
            samusImage.src = Samus.image;
            
            //background image
            var background = new Image();
            background.src = "Images/Background.png";
            background.addEventListener("load", render, false);
            
            //player object
            function Player(_character, _positionX, _positionY, _state)
            {
                //image positions
                this.idle = 0;
                this.block = 0;
                this.grab = 1;
                this.attack = 2;
                this.hurt = 3;
                this.dead = 4;
                this.jump = 5;
                this.health = 100;
                this.character = _character;
                this.positionX = _positionX;
                this.positionY = _positionY;
                this.state = _state;
            }

            var player1 = Player(Lucina, 100, 100, 0);
            var computer = Player(Bowser, 100, 100, 0);

            window.addEventListener("keydown", keydownHandler, false);
            window.addEventListener("keyup", keyupHandler, false);

            //renders the scene on each key up
            function keyupHandler()
            {
                //TODO update computer AI
                render();
            }
            
            //TODO make hitdetection for each character
            
            function keydownHandler(event)
            {
                //TODO make a switch case for each control for player

                //switch (event.keyCode) 
                //{

                //}
            }

            function render()
            {
                //clear the page
                context.clearRect(0, 0, canvas.width, canvas.height);
                //draw the background
                context.drawImage(background, 0, 0);

                //Draw the Player
                //TODO make a switch case for each character to change their sprites to match their current action
                //context.drawImage(lucinaImage, 0 /*(player1.state * Lucina.width)*/, 0, Lucina.width, Lucina.height,
                //    player1._positionX, player1.positionY, Lucina.width, Lucina.height);
                context.drawImage(lucinaImage, 0, 0, Lucina.width, Lucina.height, 100, 100, Lucina.width, Lucina.height);
                //TODO Draw the Enemy
                //TODO draw the health bars here

            }

        });
	</script>
</head>
<body>
	
	<canvas id="myCanvas" height="462" width="580"></canvas>

</body>
</html>